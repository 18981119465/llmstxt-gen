# llms.txt-gen 产品需求文档 - 技术架构

*版本：v1.0*
*生成日期：2025-01-05*

---

## 第4部分：技术假设

### 仓库结构：单体仓库

采用单体仓库结构，将前端、后端、AI服务和文档处理组件统一管理。这种结构便于依赖管理和版本控制，适合小型开发团队。

### 服务架构

**核心架构**：采用模块化单体架构，为未来微服务扩展做准备
- **前端服务**：React + TypeScript 应用，提供用户界面
- **后端API**：Python FastAPI，处理业务逻辑和文件上传
- **AI服务**：集成OpenAI API，提供智能内容处理
- **文档处理服务**：专门的文档解析和转换模块
- **HTTP服务**：提供处理后的文档内容访问

**关键决策**：选择模块化单体架构而非微服务，主要原因：
- MVP阶段开发效率更高
- 部署和运维复杂度更低
- 适合小团队快速迭代
- 保留未来微服务扩展的可能性

### 测试要求：单元测试 + 集成测试

**测试策略**：
- **单元测试**：核心业务逻辑和工具函数的单元测试覆盖率 > 80%
- **集成测试**：关键用户流程的端到端测试
- **API测试**：REST API接口的功能和性能测试
- **手动测试**：用户界面的可用性测试

**关键决策**：选择单元测试 + 集成测试的组合，平衡测试覆盖率和开发效率。

### 其他技术假设和请求

- **编程语言**：前端使用TypeScript，后端使用Python 3.9+
- **前端框架**：React 18 + Next.js 14，支持SSR和静态生成
- **后端框架**：FastAPI，提供自动API文档和异步支持
- **数据库**：SQLite（MVP），支持未来升级到PostgreSQL
- **AI集成**：OpenAI API为主，支持GPT-4和GPT-3.5模型
- **文档处理**：PyPDF2、python-docx、BeautifulSoup等库
- **爬取框架**：crawl4ai，支持异步爬取和内容提取
- **文件存储**：本地文件系统，支持云存储集成
- **容器化**：Docker + Docker Compose，便于部署和环境一致性
- **依赖管理**：前端使用npm/yarn，后端使用pip/poetry
- **日志系统**：结构化日志，支持不同级别的日志记录
- **错误处理**：统一的错误处理机制和用户友好的错误提示

---

*文档分片自：docs/prd.md*